'use client'

import * as React from 'react'
import anime from 'animejs'

interface ISocialMediaProps {
  animate: boolean
}

const SocialMedia: React.FC<ISocialMediaProps> = ({ animate }) => {
  const navRef = React.useRef<HTMLElement>(null)

  React.useLayoutEffect(() => {
    if (animate && navRef.current) {
      const timeline = anime.timeline({
        targets: navRef.current,
        easing: 'easeInOutSine',
      })

      timeline
        .add({
          targets: navRef.current.querySelectorAll('.line'),
          duration: 200,
          scaleY: [0, 1],
        })
        .add({
          duration: 350,
          targets: navRef.current.querySelectorAll('ul > li'),
          delay: anime.stagger(150, { from: 'last', easing: 'easeInOutCirc' }),
          opacity: [0, 1],
          scale: [0.75, 1],
          translateY: ['10%', '0%'],
        })
    }
  }, [animate])

  return (
    <nav ref={navRef} className="fixed bottom-0 left-16">
      <div className="flex flex-col items-center gap-y-3 -translate-x-1/2">
        <ul className="flex flex-col gap-y-2">
          <li className="opacity-0">
            <a
              className="btn btn-sm btn-square duration-150 text-white text-opacity-50 hover:text-opacity-100"
              href="https://instagram.com/thisisdhika_"
            >
              <svg width="1.85rem" height="1.85rem" viewBox="0 0 36 36" fill="none">
                <path
                  d="M24.5623 4.87477C26.3013 4.87996 27.9676 5.57308 29.1972 6.80275C30.4269 8.03242 31.12 9.69872 31.1252 11.4377V24.5623C31.12 26.3013 30.4269 27.9676 29.1972 29.1972C27.9676 30.4269 26.3013 31.12 24.5623 31.1252H11.4377C9.69872 31.12 8.03242 30.4269 6.80275 29.1972C5.57308 27.9676 4.87996 26.3013 4.87477 24.5623V11.4377C4.87996 9.69872 5.57308 8.03242 6.80275 6.80275C8.03242 5.57308 9.69872 4.87996 11.4377 4.87477H24.5623ZM24.5623 2.25H11.4377C6.38437 2.25 2.25 6.38437 2.25 11.4377V24.5623C2.25 29.6156 6.38437 33.75 11.4377 33.75H24.5623C29.6156 33.75 33.75 29.6156 33.75 24.5623V11.4377C33.75 6.38437 29.6156 2.25 24.5623 2.25Z"
                  fill="currentColor"
                />
                <path
                  d="M26.531 11.4377C26.1416 11.4377 25.761 11.3223 25.4372 11.106C25.1135 10.8896 24.8611 10.5821 24.7121 10.2224C24.5631 9.86266 24.5241 9.46681 24.6001 9.08491C24.6761 8.70301 24.8636 8.35221 25.1389 8.07688C25.4142 7.80154 25.765 7.61404 26.1469 7.53807C26.5288 7.46211 26.9247 7.5011 27.2844 7.65011C27.6442 7.79912 27.9516 8.05146 28.168 8.37522C28.3843 8.69898 28.4998 9.07961 28.4998 9.46899C28.5003 9.72769 28.4498 9.98395 28.351 10.2231C28.2523 10.4622 28.1073 10.6794 27.9244 10.8624C27.7415 11.0453 27.5242 11.1903 27.2851 11.289C27.046 11.3878 26.7897 11.4383 26.531 11.4377ZM18 12.7498C19.0384 12.7498 20.0535 13.0577 20.9169 13.6346C21.7803 14.2115 22.4532 15.0315 22.8506 15.9908C23.248 16.9502 23.3519 18.0058 23.1494 19.0243C22.9468 20.0427 22.4467 20.9782 21.7125 21.7125C20.9782 22.4467 20.0427 22.9468 19.0243 23.1494C18.0058 23.3519 16.9502 23.248 15.9908 22.8506C15.0315 22.4532 14.2115 21.7803 13.6346 20.9169C13.0577 20.0535 12.7498 19.0384 12.7498 18C12.7513 16.608 13.3049 15.2735 14.2892 14.2892C15.2735 13.3049 16.608 12.7513 18 12.7498ZM18 10.125C16.4425 10.125 14.9199 10.5869 13.6249 11.4522C12.3299 12.3175 11.3205 13.5474 10.7245 14.9864C10.1284 16.4253 9.97246 18.0087 10.2763 19.5363C10.5802 21.0639 11.3302 22.4671 12.4315 23.5685C13.5329 24.6698 14.9361 25.4198 16.4637 25.7237C17.9913 26.0276 19.5747 25.8716 21.0136 25.2756C22.4526 24.6795 23.6825 23.6702 24.5478 22.3751C25.4131 21.0801 25.875 19.5575 25.875 18C25.875 15.9114 25.0453 13.9084 23.5685 12.4315C22.0916 10.9547 20.0886 10.125 18 10.125Z"
                  fill="currentColor"
                />
              </svg>
            </a>
          </li>
          <li className="opacity-0">
            <a
              className="btn btn-sm btn-square duration-150 text-white text-opacity-50 hover:text-opacity-100"
              href="https://linkedin.com/in/thisisdhika"
            >
              <svg width="1.85rem" height="1.85rem" viewBox="0 0 36 36" fill="none">
                <path
                  d="M31.2307 2.25H4.94156C3.50508 2.25 2.25 3.28359 2.25 4.7032V31.0507C2.25 32.478 3.50508 33.75 4.94156 33.75H31.223C32.6672 33.75 33.75 32.4696 33.75 31.0507V4.7032C33.7584 3.28359 32.6672 2.25 31.2307 2.25ZM12.0143 28.5068H7.50164V14.4759H12.0143V28.5068ZM9.91406 12.3427H9.88172C8.4375 12.3427 7.50234 11.2676 7.50234 9.9218C7.50234 8.55141 8.46211 7.50164 9.93867 7.50164C11.4152 7.50164 12.3188 8.54367 12.3511 9.9218C12.3504 11.2676 11.4152 12.3427 9.91406 12.3427ZM28.5068 28.5068H23.9941V20.835C23.9941 18.997 23.3374 17.7413 21.7048 17.7413C20.4574 17.7413 19.7191 18.585 19.3908 19.407C19.2677 19.7023 19.2347 20.1045 19.2347 20.5151V28.5068H14.722V14.4759H19.2347V16.4285C19.8914 15.4934 20.9173 14.1476 23.3044 14.1476C26.2666 14.1476 28.5075 16.1002 28.5075 20.3098L28.5068 28.5068Z"
                  fill="currentColor"
                />
              </svg>
            </a>
          </li>
          <li className="opacity-0">
            <a
              className="btn btn-sm btn-square duration-150 text-white text-opacity-50 hover:text-opacity-100"
              href="https://github.com/thisisdhika"
            >
              <svg width="1.85rem" height="1.85rem" viewBox="0 0 36 36" fill="none">
                <path
                  d="M18 2.25C9.30234 2.25 2.25 9.48516 2.25 18.4008C2.25 25.5375 6.76406 31.5844 13.0219 33.7219C13.1096 33.7409 13.1992 33.7504 13.2891 33.75C13.8727 33.75 14.0977 33.3211 14.0977 32.9484C14.0977 32.5617 14.0836 31.5492 14.0766 30.1992C13.5556 30.3214 13.0226 30.385 12.4875 30.3891C9.45703 30.3891 8.76797 28.0336 8.76797 28.0336C8.05078 26.1703 7.01719 25.6711 7.01719 25.6711C5.64609 24.7078 7.01016 24.6797 7.11562 24.6797H7.12266C8.70469 24.8203 9.53438 26.3531 9.53438 26.3531C10.3219 27.7312 11.3766 28.118 12.3187 28.118C12.9417 28.1055 13.5551 27.9618 14.1188 27.6961C14.2594 26.6555 14.6672 25.9453 15.1172 25.5375C11.6227 25.1297 7.94531 23.7445 7.94531 17.557C7.94531 15.7922 8.55703 14.3508 9.5625 13.2258C9.40078 12.818 8.85938 11.1727 9.71719 8.95078C9.83225 8.92325 9.95051 8.91142 10.0687 8.91563C10.6383 8.91563 11.925 9.13359 14.0484 10.6102C16.6286 9.88827 19.3574 9.88827 21.9375 10.6102C24.0609 9.13359 25.3477 8.91563 25.9172 8.91563C26.0354 8.91142 26.1537 8.92325 26.2688 8.95078C27.1266 11.1727 26.5852 12.818 26.4234 13.2258C27.4289 14.3578 28.0406 15.7992 28.0406 17.557C28.0406 23.7586 24.3563 25.1227 20.8477 25.5234C21.4102 26.0227 21.9164 27.007 21.9164 28.5117C21.9164 30.6703 21.8953 32.4141 21.8953 32.9414C21.8953 33.3211 22.1133 33.75 22.6969 33.75C22.7913 33.7504 22.8856 33.741 22.9781 33.7219C29.243 31.5844 33.75 25.5305 33.75 18.4008C33.75 9.48516 26.6977 2.25 18 2.25Z"
                  fill="currentColor"
                />
              </svg>
            </a>
          </li>
          <li className="opacity-0">
            <a
              className="btn btn-sm btn-square duration-150 text-white text-opacity-50 hover:text-opacity-100"
              href="https://gitlab.com/thisisdhika"
            >
              <svg width="1.85rem" height="1.85rem" viewBox="0 0 36 36" fill="none">
                <path
                  d="M34.7393 19.7999L32.9688 14.31C32.9595 14.2594 32.9451 14.21 32.9259 14.1623L29.3752 3.12745C29.2821 2.84377 29.1015 2.5969 28.8593 2.42231C28.6171 2.24771 28.3258 2.15438 28.0273 2.15573C27.7295 2.15484 27.4393 2.2496 27.1994 2.42606C26.9595 2.60252 26.7827 2.85134 26.6948 3.13589L23.31 13.6511H12.6225L9.23485 3.13519C9.14745 2.85162 8.97156 2.60348 8.73293 2.4271C8.49431 2.25073 8.20548 2.15538 7.90875 2.15503H7.90102C7.60168 2.15605 7.31035 2.25185 7.06883 2.4287C6.8273 2.60554 6.648 2.85434 6.55664 3.1394L3.00234 14.1841C3.00234 14.1939 2.99461 14.2024 2.99109 14.2122L1.18899 19.8007C1.05627 20.21 1.05575 20.6507 1.1875 21.0604C1.31925 21.47 1.57659 21.8278 1.92305 22.083L17.493 33.5024C17.6297 33.6024 17.7949 33.6559 17.9642 33.6551C18.1336 33.6542 18.2982 33.5989 18.4338 33.4975L34.0066 22.083C34.3532 21.8277 34.6104 21.4697 34.742 21.0599C34.8735 20.6501 34.8725 20.2092 34.7393 19.7999ZM11.4659 15.2641L15.8063 28.7472L5.38805 15.2641M20.1284 28.75L24.2902 15.8238L24.4695 15.2613H30.5529L21.1268 27.4528M28.0406 4.17019L31.0901 13.6504H24.9855M22.7925 15.2578L19.7691 24.6501L17.9648 30.2442L13.1442 15.2578M7.89399 4.17019L10.9498 13.6504H4.85156M2.86031 20.7829C2.78673 20.7286 2.73211 20.6525 2.70422 20.5655C2.67633 20.4784 2.67657 20.3847 2.70492 20.2978L4.04086 16.1493L13.8572 28.8471M33.0708 20.7829L22.0725 28.8435L22.1091 28.795L31.8867 16.1465L33.2227 20.295C33.2514 20.3819 33.2519 20.4758 33.2243 20.5631C33.1967 20.6505 33.1422 20.7269 33.0687 20.7815"
                  fill="currentColor"
                />
              </svg>
            </a>
          </li>
        </ul>
        <div className="line w-[3px] h-[100px] bg-white bg-opacity-50 origin-bottom scale-y-0"></div>
      </div>
    </nav>
  )
}

export default SocialMedia
